{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\Projects\\\\Livestream\\\\frontend\\\\src\\\\components\\\\VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Play, Pause, Volume2, VolumeX, Maximize, RotateCcw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = ({\n  streamUrl,\n  overlays,\n  onOverlayUpdate,\n  isLoading\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const containerRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  // Drag state\n  const [draggedOverlay, setDraggedOverlay] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Video event handlers\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n    const handleLoadedMetadata = () => {\n      setDuration(video.duration);\n    };\n    const handleTimeUpdate = () => {\n      setCurrentTime(video.currentTime);\n    };\n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n    const handleVolumeChange = () => {\n      setVolume(video.volume);\n      setIsMuted(video.muted);\n    };\n    video.addEventListener('loadedmetadata', handleLoadedMetadata);\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n    video.addEventListener('volumechange', handleVolumeChange);\n    return () => {\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n      video.removeEventListener('volumechange', handleVolumeChange);\n    };\n  }, [streamUrl]);\n\n  // Set video source when streamUrl changes\n  useEffect(() => {\n    if (videoRef.current && streamUrl) {\n      videoRef.current.src = streamUrl;\n      videoRef.current.load();\n    }\n  }, [streamUrl]);\n\n  // Fullscreen handling\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\n  }, []);\n\n  // Video controls\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play().catch(console.error);\n      }\n    }\n  };\n  const handleVolumeChange = e => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    if (videoRef.current) {\n      videoRef.current.volume = newVolume;\n      setIsMuted(newVolume === 0);\n    }\n  };\n  const toggleMute = () => {\n    if (videoRef.current) {\n      const newMuted = !isMuted;\n      videoRef.current.muted = newMuted;\n      setIsMuted(newMuted);\n    }\n  };\n  const toggleFullscreen = async () => {\n    if (!document.fullscreenElement) {\n      var _containerRef$current;\n      await ((_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.requestFullscreen());\n    } else {\n      await document.exitFullscreen();\n    }\n  };\n  const restartVideo = () => {\n    if (videoRef.current) {\n      videoRef.current.currentTime = 0;\n      videoRef.current.play().catch(console.error);\n    }\n  };\n\n  // Overlay drag handlers\n  const handleOverlayMouseDown = (e, overlay) => {\n    var _containerRef$current2;\n    e.preventDefault();\n    e.stopPropagation();\n    const rect = e.currentTarget.getBoundingClientRect();\n    const videoRect = (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.getBoundingClientRect();\n    if (!videoRect) return;\n    setDraggedOverlay(overlay._id);\n    setIsDragging(true);\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n  const handleMouseMove = e => {\n    var _containerRef$current3;\n    if (!draggedOverlay || !isDragging) return;\n    const videoRect = (_containerRef$current3 = containerRef.current) === null || _containerRef$current3 === void 0 ? void 0 : _containerRef$current3.getBoundingClientRect();\n    if (!videoRect) return;\n    const overlay = overlays.find(o => o._id === draggedOverlay);\n    if (!overlay) return;\n\n    // Calculate new position relative to video container\n    const newX = e.clientX - videoRect.left - dragOffset.x;\n    const newY = e.clientY - videoRect.top - dragOffset.y;\n\n    // Constrain to video bounds\n    const maxX = videoRect.width - overlay.size.width;\n    const maxY = videoRect.height - overlay.size.height;\n    const constrainedX = Math.max(0, Math.min(newX, maxX));\n    const constrainedY = Math.max(0, Math.min(newY, maxY));\n\n    // Update overlay position\n    if (onOverlayUpdate) {\n      onOverlayUpdate(draggedOverlay, {\n        position: {\n          x: Math.round(constrainedX),\n          y: Math.round(constrainedY)\n        }\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setDraggedOverlay(null);\n    setIsDragging(false);\n  };\n\n  // Format time for display\n  const formatTime = seconds => {\n    if (!seconds || !isFinite(seconds)) return '0:00';\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const visibleOverlays = overlays.filter(overlay => overlay.visible !== false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"relative bg-black rounded-lg overflow-hidden shadow-2xl group\",\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseUp,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full\",\n      style: {\n        paddingBottom: '56.25%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"absolute inset-0 w-full h-full object-contain cursor-pointer\",\n        onClick: togglePlay,\n        crossOrigin: \"anonymous\",\n        playsInline: true,\n        children: \"Your browser does not support video playback.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium\",\n            children: \"Loading stream...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), !isPlaying && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: togglePlay,\n          className: \"bg-black bg-opacity-75 hover:bg-opacity-90 text-white rounded-full p-6 transition-all duration-200 hover:scale-110\",\n          children: /*#__PURE__*/_jsxDEV(Play, {\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), visibleOverlays.map(overlay => {\n        var _overlay$style, _overlay$style2, _overlay$style3, _overlay$style4, _overlay$style5;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `overlay-container absolute cursor-move select-none transition-all duration-150 ${draggedOverlay === overlay._id ? 'dragging z-50 shadow-2xl' : 'z-10'}`,\n          style: {\n            left: `${overlay.position.x}px`,\n            top: `${overlay.position.y}px`,\n            width: `${overlay.size.width}px`,\n            height: `${overlay.size.height}px`\n          },\n          onMouseDown: e => handleOverlayMouseDown(e, overlay),\n          children: overlay.type === 'text' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-text w-full h-full flex items-center justify-center text-center\",\n            style: {\n              fontSize: ((_overlay$style = overlay.style) === null || _overlay$style === void 0 ? void 0 : _overlay$style.fontSize) || '16px',\n              color: ((_overlay$style2 = overlay.style) === null || _overlay$style2 === void 0 ? void 0 : _overlay$style2.color) || '#ffffff',\n              fontWeight: ((_overlay$style3 = overlay.style) === null || _overlay$style3 === void 0 ? void 0 : _overlay$style3.fontWeight) || '600',\n              backgroundColor: ((_overlay$style4 = overlay.style) === null || _overlay$style4 === void 0 ? void 0 : _overlay$style4.backgroundColor) || 'rgba(0,0,0,0.7)',\n              borderRadius: ((_overlay$style5 = overlay.style) === null || _overlay$style5 === void 0 ? void 0 : _overlay$style5.borderRadius) || '6px',\n              ...overlay.style\n            },\n            children: overlay.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: overlay.content,\n            alt: \"Logo overlay\",\n            className: \"overlay-logo w-full h-full\",\n            draggable: false,\n            onError: e => {\n              e.target.style.display = 'none';\n              console.error('Failed to load overlay image:', overlay.content);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)\n        }, overlay._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white bg-opacity-30 rounded-full h-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 h-1 rounded-full transition-all duration-200\",\n              style: {\n                width: `${duration ? currentTime / duration * 100 : 0}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: togglePlay,\n              className: \"bg-white/20 hover:bg-white/30 rounded-full p-3 transition-colors\",\n              disabled: isLoading,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this) : isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Play, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: restartVideo,\n              className: \"hover:text-blue-400 transition-colors\",\n              title: \"Restart\",\n              children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: toggleMute,\n                className: \"hover:text-blue-400 transition-colors\",\n                title: isMuted ? 'Unmute' : 'Mute',\n                children: isMuted || volume === 0 ? /*#__PURE__*/_jsxDEV(VolumeX, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 46\n                }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 70\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.1\",\n                value: isMuted ? 0 : volume,\n                onChange: handleVolumeChange,\n                className: \"w-20 accent-blue-500 opacity-75 hover:opacity-100 transition-opacity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-300 min-w-[2rem]\",\n                children: [Math.round((isMuted ? 0 : volume) * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatTime(currentTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatTime(duration)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [visibleOverlays.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/20 px-2 py-1 rounded text-xs\",\n              children: [visibleOverlays.length, \" overlay\", visibleOverlays.length !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleFullscreen,\n              className: \"hover:text-blue-400 transition-colors\",\n              title: isFullscreen ? 'Exit fullscreen' : 'Enter fullscreen',\n              children: /*#__PURE__*/_jsxDEV(Maximize, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-lg text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"LIVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), isDragging && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-lg text-sm\",\n      children: \"Drag to reposition overlay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"4T0GbJyJIhnXOE52o2wqo3bHa2g=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Play","Pause","Volume2","VolumeX","Maximize","RotateCcw","jsxDEV","_jsxDEV","VideoPlayer","streamUrl","overlays","onOverlayUpdate","isLoading","_s","videoRef","containerRef","isPlaying","setIsPlaying","volume","setVolume","isMuted","setIsMuted","duration","setDuration","currentTime","setCurrentTime","isFullscreen","setIsFullscreen","draggedOverlay","setDraggedOverlay","dragOffset","setDragOffset","x","y","isDragging","setIsDragging","video","current","handleLoadedMetadata","handleTimeUpdate","handlePlay","handlePause","handleVolumeChange","muted","addEventListener","removeEventListener","src","load","handleFullscreenChange","document","fullscreenElement","togglePlay","pause","play","catch","console","error","e","newVolume","parseFloat","target","value","toggleMute","newMuted","toggleFullscreen","_containerRef$current","requestFullscreen","exitFullscreen","restartVideo","handleOverlayMouseDown","overlay","_containerRef$current2","preventDefault","stopPropagation","rect","currentTarget","getBoundingClientRect","videoRect","_id","clientX","left","clientY","top","handleMouseMove","_containerRef$current3","find","o","newX","newY","maxX","width","size","maxY","height","constrainedX","Math","max","min","constrainedY","position","round","handleMouseUp","formatTime","seconds","isFinite","mins","floor","secs","toString","padStart","visibleOverlays","filter","visible","ref","className","onMouseMove","onMouseUp","onMouseLeave","children","style","paddingBottom","onClick","crossOrigin","playsInline","fileName","_jsxFileName","lineNumber","columnNumber","map","_overlay$style","_overlay$style2","_overlay$style3","_overlay$style4","_overlay$style5","onMouseDown","type","fontSize","color","fontWeight","backgroundColor","borderRadius","content","alt","draggable","onError","display","disabled","title","step","onChange","length","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/Desktop/Projects/Livestream/frontend/src/components/VideoPlayer.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { Play, Pause, Volume2, VolumeX, Maximize, RotateCcw } from 'lucide-react';\r\n\r\nconst VideoPlayer = ({ streamUrl, overlays, onOverlayUpdate, isLoading }) => {\r\n  const videoRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [volume, setVolume] = useState(1);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  \r\n  // Drag state\r\n  const [draggedOverlay, setDraggedOverlay] = useState(null);\r\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  // Video event handlers\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    if (!video) return;\r\n\r\n    const handleLoadedMetadata = () => {\r\n      setDuration(video.duration);\r\n    };\r\n\r\n    const handleTimeUpdate = () => {\r\n      setCurrentTime(video.currentTime);\r\n    };\r\n\r\n    const handlePlay = () => setIsPlaying(true);\r\n    const handlePause = () => setIsPlaying(false);\r\n    const handleVolumeChange = () => {\r\n      setVolume(video.volume);\r\n      setIsMuted(video.muted);\r\n    };\r\n\r\n    video.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n    video.addEventListener('timeupdate', handleTimeUpdate);\r\n    video.addEventListener('play', handlePlay);\r\n    video.addEventListener('pause', handlePause);\r\n    video.addEventListener('volumechange', handleVolumeChange);\r\n\r\n    return () => {\r\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n      video.removeEventListener('timeupdate', handleTimeUpdate);\r\n      video.removeEventListener('play', handlePlay);\r\n      video.removeEventListener('pause', handlePause);\r\n      video.removeEventListener('volumechange', handleVolumeChange);\r\n    };\r\n  }, [streamUrl]);\r\n\r\n  // Set video source when streamUrl changes\r\n  useEffect(() => {\r\n    if (videoRef.current && streamUrl) {\r\n      videoRef.current.src = streamUrl;\r\n      videoRef.current.load();\r\n    }\r\n  }, [streamUrl]);\r\n\r\n  // Fullscreen handling\r\n  useEffect(() => {\r\n    const handleFullscreenChange = () => {\r\n      setIsFullscreen(!!document.fullscreenElement);\r\n    };\r\n\r\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\r\n    return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\r\n  }, []);\r\n\r\n  // Video controls\r\n  const togglePlay = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play().catch(console.error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    const newVolume = parseFloat(e.target.value);\r\n    setVolume(newVolume);\r\n    if (videoRef.current) {\r\n      videoRef.current.volume = newVolume;\r\n      setIsMuted(newVolume === 0);\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (videoRef.current) {\r\n      const newMuted = !isMuted;\r\n      videoRef.current.muted = newMuted;\r\n      setIsMuted(newMuted);\r\n    }\r\n  };\r\n\r\n  const toggleFullscreen = async () => {\r\n    if (!document.fullscreenElement) {\r\n      await containerRef.current?.requestFullscreen();\r\n    } else {\r\n      await document.exitFullscreen();\r\n    }\r\n  };\r\n\r\n  const restartVideo = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.currentTime = 0;\r\n      videoRef.current.play().catch(console.error);\r\n    }\r\n  };\r\n\r\n  // Overlay drag handlers\r\n  const handleOverlayMouseDown = (e, overlay) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const videoRect = containerRef.current?.getBoundingClientRect();\r\n    \r\n    if (!videoRect) return;\r\n\r\n    setDraggedOverlay(overlay._id);\r\n    setIsDragging(true);\r\n    setDragOffset({\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    });\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!draggedOverlay || !isDragging) return;\r\n    \r\n    const videoRect = containerRef.current?.getBoundingClientRect();\r\n    if (!videoRect) return;\r\n\r\n    const overlay = overlays.find(o => o._id === draggedOverlay);\r\n    if (!overlay) return;\r\n\r\n    // Calculate new position relative to video container\r\n    const newX = e.clientX - videoRect.left - dragOffset.x;\r\n    const newY = e.clientY - videoRect.top - dragOffset.y;\r\n\r\n    // Constrain to video bounds\r\n    const maxX = videoRect.width - overlay.size.width;\r\n    const maxY = videoRect.height - overlay.size.height;\r\n    \r\n    const constrainedX = Math.max(0, Math.min(newX, maxX));\r\n    const constrainedY = Math.max(0, Math.min(newY, maxY));\r\n\r\n    // Update overlay position\r\n    if (onOverlayUpdate) {\r\n      onOverlayUpdate(draggedOverlay, {\r\n        position: { x: Math.round(constrainedX), y: Math.round(constrainedY) }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setDraggedOverlay(null);\r\n    setIsDragging(false);\r\n  };\r\n\r\n  // Format time for display\r\n  const formatTime = (seconds) => {\r\n    if (!seconds || !isFinite(seconds)) return '0:00';\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const visibleOverlays = overlays.filter(overlay => overlay.visible !== false);\r\n\r\n  return (\r\n    <div \r\n      ref={containerRef}\r\n      className=\"relative bg-black rounded-lg overflow-hidden shadow-2xl group\"\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n      onMouseLeave={handleMouseUp}\r\n    >\r\n      {/* Video Element */}\r\n      <div className=\"relative w-full\" style={{ paddingBottom: '56.25%' }}>\r\n        <video\r\n          ref={videoRef}\r\n          className=\"absolute inset-0 w-full h-full object-contain cursor-pointer\"\r\n          onClick={togglePlay}\r\n          crossOrigin=\"anonymous\"\r\n          playsInline\r\n        >\r\n          Your browser does not support video playback.\r\n        </video>\r\n\r\n        {/* Loading overlay */}\r\n        {isLoading && (\r\n          <div className=\"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center\">\r\n            <div className=\"text-center text-white\">\r\n              <div className=\"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n              <p className=\"text-lg font-medium\">Loading stream...</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Play button overlay (when paused) */}\r\n        {!isPlaying && !isLoading && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <button\r\n              onClick={togglePlay}\r\n              className=\"bg-black bg-opacity-75 hover:bg-opacity-90 text-white rounded-full p-6 transition-all duration-200 hover:scale-110\"\r\n            >\r\n              <Play size={40} />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Overlays */}\r\n        {visibleOverlays.map((overlay) => (\r\n          <div\r\n            key={overlay._id}\r\n            className={`overlay-container absolute cursor-move select-none transition-all duration-150 ${\r\n              draggedOverlay === overlay._id ? 'dragging z-50 shadow-2xl' : 'z-10'\r\n            }`}\r\n            style={{\r\n              left: `${overlay.position.x}px`,\r\n              top: `${overlay.position.y}px`,\r\n              width: `${overlay.size.width}px`,\r\n              height: `${overlay.size.height}px`,\r\n            }}\r\n            onMouseDown={(e) => handleOverlayMouseDown(e, overlay)}\r\n          >\r\n            {overlay.type === 'text' ? (\r\n              <div \r\n                className=\"overlay-text w-full h-full flex items-center justify-center text-center\"\r\n                style={{ \r\n                  fontSize: overlay.style?.fontSize || '16px',\r\n                  color: overlay.style?.color || '#ffffff',\r\n                  fontWeight: overlay.style?.fontWeight || '600',\r\n                  backgroundColor: overlay.style?.backgroundColor || 'rgba(0,0,0,0.7)',\r\n                  borderRadius: overlay.style?.borderRadius || '6px',\r\n                  ...overlay.style\r\n                }}\r\n              >\r\n                {overlay.content}\r\n              </div>\r\n            ) : (\r\n              <img \r\n                src={overlay.content} \r\n                alt=\"Logo overlay\" \r\n                className=\"overlay-logo w-full h-full\"\r\n                draggable={false}\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                  console.error('Failed to load overlay image:', overlay.content);\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        {/* Video Controls */}\r\n        <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n          {/* Progress bar */}\r\n          <div className=\"mb-4\">\r\n            <div className=\"bg-white bg-opacity-30 rounded-full h-1\">\r\n              <div \r\n                className=\"bg-blue-500 h-1 rounded-full transition-all duration-200\"\r\n                style={{ width: `${duration ? (currentTime / duration) * 100 : 0}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between text-white\">\r\n            {/* Left controls */}\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={togglePlay}\r\n                className=\"bg-white/20 hover:bg-white/30 rounded-full p-3 transition-colors\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? (\r\n                  <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                ) : isPlaying ? (\r\n                  <Pause size={20} />\r\n                ) : (\r\n                  <Play size={20} />\r\n                )}\r\n              </button>\r\n\r\n              <button\r\n                onClick={restartVideo}\r\n                className=\"hover:text-blue-400 transition-colors\"\r\n                title=\"Restart\"\r\n              >\r\n                <RotateCcw size={18} />\r\n              </button>\r\n              \r\n              {/* Volume controls */}\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button \r\n                  onClick={toggleMute} \r\n                  className=\"hover:text-blue-400 transition-colors\"\r\n                  title={isMuted ? 'Unmute' : 'Mute'}\r\n                >\r\n                  {isMuted || volume === 0 ? <VolumeX size={20} /> : <Volume2 size={20} />}\r\n                </button>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={isMuted ? 0 : volume}\r\n                  onChange={handleVolumeChange}\r\n                  className=\"w-20 accent-blue-500 opacity-75 hover:opacity-100 transition-opacity\"\r\n                />\r\n                <span className=\"text-sm text-gray-300 min-w-[2rem]\">\r\n                  {Math.round((isMuted ? 0 : volume) * 100)}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Center - Time display */}\r\n            <div className=\"flex items-center space-x-2 text-sm\">\r\n              <span>{formatTime(currentTime)}</span>\r\n              <span className=\"text-gray-400\">/</span>\r\n              <span>{formatTime(duration)}</span>\r\n            </div>\r\n\r\n            {/* Right controls */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              {/* Overlay count */}\r\n              {visibleOverlays.length > 0 && (\r\n                <div className=\"bg-white/20 px-2 py-1 rounded text-xs\">\r\n                  {visibleOverlays.length} overlay{visibleOverlays.length !== 1 ? 's' : ''}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                onClick={toggleFullscreen}\r\n                className=\"hover:text-blue-400 transition-colors\"\r\n                title={isFullscreen ? 'Exit fullscreen' : 'Enter fullscreen'}\r\n              >\r\n                <Maximize size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stream info overlay (top) */}\r\n      <div className=\"absolute top-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-lg text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\r\n          <span>LIVE</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Drag helper text */}\r\n      {isDragging && (\r\n        <div className=\"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-lg text-sm\">\r\n          Drag to reposition overlay\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}